[{"C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\index.js":"1","C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\reportWebVitals.js":"2","C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\App.js":"3","C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\components\\Navbar.js":"4","C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\components\\Scheduler.js":"5","C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\components\\BookForm.js":"6","C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\components\\Sidebar.js":"7","C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\components\\PrivateRouter.js":"8","C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\components\\SignUp.js":"9","C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\components\\SignIn.js":"10","C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\components\\User.js":"11","C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\components\\About.js":"12","C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\components\\Home.js":"13"},{"size":500,"mtime":1606662669077,"results":"14","hashOfConfig":"15"},{"size":362,"mtime":1606662669077,"results":"16","hashOfConfig":"15"},{"size":3019,"mtime":1611478849287,"results":"17","hashOfConfig":"15"},{"size":632,"mtime":1611046695809,"results":"18","hashOfConfig":"15"},{"size":8031,"mtime":1611410834859,"results":"19","hashOfConfig":"15"},{"size":9976,"mtime":1611410703620,"results":"20","hashOfConfig":"15"},{"size":643,"mtime":1611478836774,"results":"21","hashOfConfig":"15"},{"size":1367,"mtime":1611142573434,"results":"22","hashOfConfig":"15"},{"size":3786,"mtime":1611417257278,"results":"23","hashOfConfig":"15"},{"size":5987,"mtime":1611478147752,"results":"24","hashOfConfig":"15"},{"size":341,"mtime":1611142615269,"results":"25","hashOfConfig":"15"},{"size":4899,"mtime":1611395140818,"results":"26","hashOfConfig":"15"},{"size":2579,"mtime":1611142590717,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"1xvcdgb",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"30"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\index.js",[],["56","57"],"C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\reportWebVitals.js",[],"C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\App.js",["58","59"],"C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\components\\Navbar.js",[],"C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\components\\Scheduler.js",[],"C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\components\\BookForm.js",["60","61"],"import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Formik, Form, useField } from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\nconst MyTextInput = ({ label, ...props }) => {\r\n  const [field, meta] = useField(props);\r\n  return (\r\n    <>\r\n      <label className='formLabel' htmlFor={props.id || props.name}>{label}</label>\r\n      <input className='text-input' {...field} {...props} />\r\n      {meta.touched && meta.error ?\r\n        <div className='error'>{meta.error}</div> :\r\n        null\r\n      }\r\n    </>\r\n  );\r\n};\r\n\r\nconst MyDependentTextInput = ({ label, ...props }) => {\r\n  const [field, meta] = useField(props);\r\n  return (\r\n    <div style={{display: props.displaying, marginTop: '1em'}}>\r\n      <label className='formLabel' htmlFor={props.id || props.name}>{label}</label>\r\n      <input className='text-input' {...field} {...props} />\r\n      {meta.touched && meta.error ?\r\n        <div className='error'>{meta.error}</div> :\r\n        null\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nconst MyTextArea = ({ label, ...props }) => {\r\n  const [field, meta] = useField(props);\r\n  return (\r\n    <>\r\n      <label className='formLabel' htmlFor={props.id || props.name}>{label}</label>\r\n      <textarea className='text-input' {...field} {...props}></textarea>\r\n      {meta.touched && meta.error ?\r\n        <div className='error'>{meta.error}</div> :\r\n        null\r\n      }\r\n    </>\r\n  );\r\n};\r\n\r\nconst MyCheckbox = ({ children, ...props }) => {\r\n  const [field, meta] = useField({ ...props, type: 'checkbox' });\r\n  return (\r\n    <div>\r\n      <label className='formLabel checkbox'>\r\n        <input id='openCheck' type='checkbox' {...field} {...props} />\r\n        <span className='checkmark'></span>\r\n        {children}\r\n      </label>\r\n      {meta.touched && meta.error ?\r\n        <div className='error'>{meta.error}</div> :\r\n        null\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nconst MySelect = ({ label, ...props }) => {\r\n  const [field, meta] = useField(props);\r\n  return (\r\n    <div>\r\n      <label className='formLabel' htmlFor={props.id || props.name}>{label}</label>\r\n      <select {...field} {...props} />\r\n      {meta.touched && meta.error ?\r\n        <div className='error'>{meta.error}</div> :\r\n        null\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n// TODO: reset button doesn't remove appends. won't read props?\r\n// TODO: validate date & hour. use setFieldValue?\r\n// TODO: edit tooltip text\r\n\r\n\r\nfunction BookForm(props) {\r\n  const [maxDuration, setMaxDuration] = useState(0);\r\n\r\n  const getAvailableDuration = async () => {\r\n    const { data } = await axios.post('/api/v1/scheduling/append',\r\n      {\r\n        week: new Date(props.week[0][0]) > new Date() ? 'nextWeek' : 'thisWeek',\r\n        day: new Date(props.date).getDay(),\r\n        hour: `${props.hour}:00`,\r\n        userId: props.user ? props.user.id : 1 // TODO: send user and remove default\r\n      }\r\n    )\r\n    .catch(e => console.log(e));\r\n    setMaxDuration(data);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(props.showForm !== 'none'){\r\n      getAvailableDuration();\r\n    }\r\n  }, [props.date, props.hour, props.showForm]);\r\n\r\n  const durationOptions = () => {\r\n    const options = [<option key='none' value=''>בחר</option>];\r\n    let durationOption = 0.5;\r\n    for(let i = 0; i < maxDuration; i++) {\r\n      options.push(\r\n        <option key={durationOption} value={i + 1}>\r\n          {\r\n            durationOption < 1 ?\r\n              'חצי שעה' :\r\n              durationOption === 1 ?\r\n                'שעה' :\r\n                `${durationOption} שעות`\r\n          }\r\n        </option>\r\n      );\r\n      durationOption += 0.5;\r\n    }\r\n    return options;\r\n  }\r\n\r\n  const handleResetForm = () => {\r\n    console.log({week: props.week, date: props.date, hour: props.hour, userId: 1});\r\n    props.setShowForm('none');\r\n    console.log(\r\n      {\r\n        week: new Date(props.week[0][0]) > new Date() ? 'nextWeek' : 'thisWeek',\r\n        day: new Date(props.date).getDay(),\r\n        hour: `${props.hour}:00`,\r\n        userId: props.user ? props.user.id : 1 // remove default\r\n      }\r\n    );\r\n    axios.post('/api/v1/scheduling/unappend',\r\n      {\r\n        week: new Date(props.week[0][0]) > new Date() ? 'nextWeek' : 'thisWeek',\r\n        day: new Date(props.date).getDay(),\r\n        hour: `${props.hour}:00`,\r\n        userId: props.user ? props.user.id : 1 // remove default\r\n      }\r\n    )\r\n    .catch(e => console.log(e));\r\n  }\r\n\r\n  return (\r\n    <div className='bookFormContainer' /*style={{ display: props.showForm || 'none' }}*/>\r\n      <Formik\r\n        initialValues={{\r\n          title: '',\r\n          date: props.date,\r\n          hour: props.hour,\r\n          duration: '',\r\n          isOpen: false,\r\n          openTo: '',\r\n          notes: ''\r\n        }}\r\n        validationSchema={Yup.object({\r\n          title: Yup.string()\r\n            .max(50, 'הכותרת ארוכה מדי')\r\n            .required('יש להזין כותרת'),\r\n          // date: Yup.string()\r\n          //   .required('יש לבחור יום'),\r\n          // hour: Yup.string()\r\n          //   .required('יש לבחור שעה'),\r\n          duration: Yup.string()\r\n            .oneOf(\r\n              ['1', '2', '3', '4', '5', '6'],\r\n              'משך החזרה אינו תקין'\r\n            )\r\n            .required('יש לבחור את משך חזרה')\r\n        })}\r\n        onSubmit={async (values, { setSubmitting, resetForm }) => {\r\n          console.log(\r\n            {\r\n              week: new Date(props.week[0][0]) > new Date() ? 'nextWeek' : 'thisWeek',\r\n              day: new Date(props.date).getDay(),\r\n              hour: `${props.hour}:00`,\r\n              userId: props.user ? props.user.id : 1 // remove default\r\n            }\r\n          );\r\n          await axios.post('/api/v1/scheduling/book',\r\n            {\r\n              ...values,\r\n              week: new Date(props.week[0][0]) > new Date() ? 'nextWeek' : 'thisWeek',\r\n              day: new Date(props.date).getDay(),\r\n              hour: `${props.hour}:00`,\r\n              userId: props.user ? props.user.id : 1 // remove default\r\n            }\r\n          )\r\n          .catch(e => console.log(e));\r\n          // await axios.get('/api/v1/scheduling/update/thisWeek');\r\n          // props.setWeek(await axios.get('/api/v1/scheduling/update/thisWeek'));\r\n          setSubmitting(false);\r\n          resetForm();\r\n          props.setShowForm('none');\r\n        }}\r\n        onReset={(values) => {\r\n          // handleResetForm();\r\n          console.log(\r\n            {\r\n              week: new Date(props.week[0][0]) > new Date() ? 'nextWeek' : 'thisWeek',\r\n              day: new Date(props.date).getDay(),\r\n              hour: `${props.hour}:00`,\r\n              userId: props.user ? props.user.id : 1 // remove default\r\n            }\r\n          );\r\n          console.log(values);\r\n          // axios.post('/api/v1/scheduling/unappend',\r\n          //   {\r\n          //     week: new Date(props.week[0][0]) > new Date() ? 'nextWeek' : 'thisWeek',\r\n          //     day: new Date(props.date).getDay(),\r\n          //     hour: `${props.hour}:00`,\r\n          //     userId: props.user ? props.user.id : 1 // remove default\r\n          //   }\r\n          // )\r\n          // .catch(e => console.log(e))\r\n          props.setShowForm('none');\r\n          props.setDate('')\r\n          props.setHour('')\r\n        }}\r\n      >\r\n        {({ values, setFieldValue }) => (\r\n          <Form className='bookForm'>\r\n            <MyTextInput\r\n              className='longInput'\r\n              id='title'\r\n              label='כותרת'\r\n              name='title'\r\n              type='text'\r\n            /><br />\r\n            <MyTextInput\r\n              className='halfInput'\r\n              id='date'\r\n              label='תאריך'\r\n              name='date'\r\n              // value={props.date}\r\n              // setFieldValue(...)\r\n              type='text'\r\n              placeholder={props.date}\r\n              disabled\r\n              /><br />\r\n            <div className='timeInputs'>\r\n              <div className='halfInputContainer'>\r\n                <MyTextInput\r\n                  className='fullInput'\r\n                  id='hour'\r\n                  label='שעת התחלה'\r\n                  name='hour'\r\n                  // value={props.hour}\r\n                  // setFieldValue(...)\r\n                  type='text'\r\n                  placeholder={props.hour}\r\n                  disabled\r\n                />\r\n              </div>\r\n              <div className='halfInputContainer'>\r\n                <MySelect\r\n                  className='fullInput'\r\n                  id='duration'\r\n                  label='משך החזרה'\r\n                  name='duration'\r\n                  disabled={!(props.date && props.hour)}\r\n                >\r\n                  {durationOptions()}\r\n                </MySelect>\r\n              </div>\r\n            </div><br />\r\n            <MyCheckbox id='isOpen' name='isOpen'>\r\n              הזמנה פתוחה\r\n              <span className='tooltip'>?\r\n                <span className='tooltiptext'>האם אמרו לך פעם?</span>\r\n              </span>\r\n            </MyCheckbox>\r\n            <MyDependentTextInput\r\n              className='longInput'\r\n              id='openTo'\r\n              label='מוזמנים'\r\n              name='openTo'\r\n              type='text'\r\n              displaying={values.isOpen ? 'inline-block' : 'none'}\r\n            /><br />\r\n            <MyTextArea\r\n              className='longInput'\r\n              id='notes'\r\n              label='הערות'\r\n              name='notes'\r\n              type='text'\r\n            />\r\n            <br />\r\n            <div className='bookFormButtons'>\r\n              <button type='submit' disabled={!(props.date && props.hour)}>שמור</button>\r\n              <button type='reset'>ביטול</button>\r\n            </div>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookForm;\r\n","C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\components\\Sidebar.js",[],"C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\components\\PrivateRouter.js",[],"C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\components\\SignUp.js",[],"C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\components\\SignIn.js",[],"C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\components\\User.js",[],"C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\components\\About.js",[],"C:\\Users\\yuval\\cyber4s\\myStudioFinal\\client\\src\\components\\Home.js",[],{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","severity":1,"message":"67","line":2,"column":39,"nodeType":"68","messageId":"69","endLine":2,"endColumn":47},{"ruleId":"70","severity":1,"message":"71","line":42,"column":6,"nodeType":"72","endLine":42,"endColumn":12,"suggestions":"73"},{"ruleId":"70","severity":1,"message":"74","line":105,"column":6,"nodeType":"72","endLine":105,"endColumn":46,"suggestions":"75"},{"ruleId":"66","severity":1,"message":"76","line":127,"column":9,"nodeType":"68","messageId":"69","endLine":127,"endColumn":24},"no-native-reassign",["77"],"no-negated-in-lhs",["78"],"no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'checkUser'. Either include it or remove the dependency array.","ArrayExpression",["79"],"React Hook useEffect has a missing dependency: 'getAvailableDuration'. Either include it or remove the dependency array.",["80"],"'handleResetForm' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"81","fix":"82"},{"desc":"83","fix":"84"},"Update the dependencies array to be: [checkUser, user]",{"range":"85","text":"86"},"Update the dependencies array to be: [getAvailableDuration, props.date, props.hour, props.showForm]",{"range":"87","text":"88"},[1302,1308],"[checkUser, user]",[3052,3092],"[getAvailableDuration, props.date, props.hour, props.showForm]"]